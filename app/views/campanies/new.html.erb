<head>
  <meta charset="UTF-8">
  <%= javascript_include_tag 'application' %>
</head>

<body>
  <div class="container">
  <div class="row">
    <div class="col mt-5 mb-5 pb-5">
      <h2>新規企業ページ作成</h2>
      <form>

        <% if @campany.errors.any? %>
            <div id="error_explanation" class="alert alert-danger">
              <ul>
                <% @campany.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
              </ul>
            </div>
          <% end %>

        <%= form_with model: @campany, local:true do |f| %>
          <div class="form-group row">
            <label class="col-sm-2 col-form-label mt-3">会社名</label>
            <div class="col-sm-10">
              <%= f.text_field :name, class: "form-control mt-3", placeholder: "会社名"%>
            </div>
          </div>
          <div class="form-group row mt-3">
            <label for="inputCode" class="col-sm-2 col-form-label mt-3">企業コード</label>
            <div class="col-sm-10">
              <%= f.text_field :code, class: 'form-control mt-3', id: 'password' %>
              <%= button_tag '企業コードを生成する', class: 'mt-3', id: 'auto-fill-link', type: "button" %>
            </div>
          </div>
          <%= f.submit "作成する" %>
        <% end %>
      </form>
      </table>
    </div>
  </div>
  <div class="row blockquote text-center">
    <div class="col-6">
      <div class="h2 btn btn-success"><%= link_to "マイページ", user_path(current_user.id), class: 'nav-link text-white' %></div>
    </div>
    <div class="col-6">
      <div class="h2 btn btn-primary">企業を検索する<%#= link_to "企業を検索する", new_user_session_path, class: 'nav-link text-white' %></div>
    </div>
  </div>
</div>

<!--乱数作成用-->
<script>
  $(function(){
    autoFill();
    function autoFill() {
      $('#auto-fill-link').click(function(){
        $('#password').val("<%= @password %>");
      });
    }
  })
</script>
</body>




